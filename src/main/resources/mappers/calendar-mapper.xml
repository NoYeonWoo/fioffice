<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="calendarMapper">

	<resultMap id="CalendarResultSet" type="Calendar">
		<id property="calNo" column="CAL_NO"/>
		<result property="empNo" column="EMP_NO"/>
		<result property="calCate" column="CAL_CATE"/>
		<result property="calTitle" column="CAL_TITLE"/>
		<result property="calContent" column="CAL_CONTENT"/>
		<result property="calSDate" column="CAL_SDATE"/>
		<result property="calEDate" column="CAL_EDATE"/>
		<result property="calType" column="CAL_TYPE"/>
		<result property="status" column="STATUS"/>
	</resultMap>
	
	
	<insert id="insertCalendar" parameterType="Calendar">
	INSERT INTO CALENDAR
	VALUES(SEQ_CAL.NEXTVAL,#{empNo},#{calCate},#{calTitle},#{calContent},
	#{calSDate},#{calEDate},DEFAULT,DEFAULT)
	</insert>
	
	<update id="deleteCalendar" parameterType="_int">
		UPDATE CALENDAR
		SET STATUS ='N'
		WHERE CAL_NO =# {calNo}
	</update>
	
	<select id="selectCList" resultMap="CalendarResultSet">	
		SELECT *
		FROM CALENDAR
		WHERE STATUS='Y'
	</select>
	
	<select id="selectmyList" resultMap="CalendarResultSet">
		SELECT A.*, B.EMP_NO
		FROM CALENDAR A INNER JOIN EMPLOYEE B ON A.EMP_NO=B.EMP_NO
		WHERE STATUS ='Y' 
		AND A.EMP_NO = B.EMP_NO
	</select>
	
	<select id="selectdeptList" resultMap="CalendarResultSet">
		
	</select>
	
	
</mapper>
